/* build with grunt jpicture 2015-12-09 */
!function(a,b){"use strict";a.fn.jp=function(c){var d={"background-repeat":"no-repeat","background-size":"cover",display:"block"},e={},f={enableZoom:!0,orientationChange:!0,callback:function(){},animationSpeed:"fast",checkForHtml:!0,lastPicture:{height:0,width:0}};if(!c.hasOwnProperty("picList")){var g=c;c={picList:g}}return e=a.extend({},f,c),this.each(function(){var c=a(this),f=function(a,b){var c=1/0,d=0,e="";for(var f in a)a.hasOwnProperty(f)&&Math.abs(a[f]-b)<c&&(c=Math.abs(a[f]-b),d=a[f],e=f);return{width:d,key:e}},g=function(a,b){e.lastPicture.width=a,e.lastPicture.height=b},h=function(a,b,c){return c*(1+(b-a)/a)},i=function(c,f,i){var j=function(a,b){a.attr("src",b),a.css("display","block"),g(a.width(),a.height())},k=function(a,b){var c=new Image;c.onload=function(){var e=a.width();d.backgroundImage="url("+b+")",d.height=h(c.width,e,c.height),a.css(d),g(e,d.height)},c.src=b};a.ajax({url:b.location.href,cache:!0,processData:!1}).always(function(){"IMG"===c.prop("tagName")?j(c,f.key):k(c,f.key),e.callback(c)})},j=function(a,c){b.addEventListener("resize",function(){p(a,c)})},k=function(a,c){b.addEventListener("orientationchange",function(){switch(b.orientation){case-90:case 90:p(a,c);break;default:p(a,c)}})},l=function(a){a.css({"background-image":"none",height:"auto"})},m=function(a){return e.lastPicture.width===a},n=function(a){return/\s/g.test(a)},o=function(a){return-1!==a.indexOf("&lt;")},p=function(a,b){var c=a.width(),d=f(b,c);m(c)||("hidden"===d.key?(a.css("display","none"),g(0,0)):(n(d.key)||o(d.key))&&e.checkForHtml?(a.html(d.key),l(a)):(i(a,d,c),a.html("")))},q=function(a,b){e.enableZoom&&j(a,b),e.orientationChange&&k(a,b)};return q(c,e.picList),p(c,e.picList),c})}}(jQuery,window);