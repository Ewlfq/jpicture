/*! jpicture 2015-10-13 */
!function(a,b){"use strict";a.fn.jp=function(c){var d={"background-repeat":"no-repeat","background-size":"cover",display:"block"},e={},f=function(b){if(!b.hasOwnProperty("picList")){var c=b;b={picList:c}}e=a.extend({},{enableZoom:!0,orientationChange:!0,callback:function(){},animationSpeed:"fast",checkForHtml:!0,lastPicture:{height:0,width:0}},b)};return f(c),this.each(function(){var f=a(this),g=function(a,b){var c=1/0,d=0,e="";for(var f in a)a.hasOwnProperty(f)&&Math.abs(a[f]-b)<c&&(c=Math.abs(a[f]-b),d=a[f],e=f);return{width:d,key:e}},h=function(a,b){e.lastPicture.width=a,e.lastPicture.height=b},i=function(a,b,c){return c*(1+(b-a)/a)},j=function(c,f,g){var j=function(a,b){a.attr("src",b),a.css("display","block"),h(a.width(),a.height())},k=function(a,b){var c=new Image;c.onload=function(){var e=a.width();d.backgroundImage="url("+b+")",d.height=i(c.width,e,c.height),a.css(d),h(e,d.height)},c.src=b};a.ajax({url:b.location.href,cache:!0,processData:!1}).always(function(){"IMG"===c.tagName?j(c,f.key):k(c,f.key),e.callback(c)})},k=function(a,c){b.addEventListener("resize",function(){q(a,c)})},l=function(a,c){b.addEventListener("orientationchange",function(){switch(b.orientation){case-90:case 90:q(a,c);break;default:q(a,c)}})},m=function(a){a.css({"background-image":"none",height:"auto"})},n=function(a){return e.lastPicture.width===a},o=function(a){return/\s/g.test(a)},p=function(a){return-1!==a.indexOf("&lt;")},q=function(a,b){var c=a.width(),d=g(b,c);n(c)||("hidden"===d.key?(a.css("display","none"),h(0,0)):(o(d.key)||p(d.key))&&e.checkForHtml?(a.html(d.key),m(a)):(j(a,d,c),a.html("")))},r=function(a,b){e.enableZoom&&k(a,b),e.orientationChange&&l(a,b)};return r(f,c),q(f,e.picList),f})}}(jQuery,window);