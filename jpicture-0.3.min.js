!function(t){"use strict";var e={"background-repeat":"no-repeat","background-size":"cover"},n=void 0,o=function(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"?!0:!1},c=function(t,e){var n,o,c=1/0;for(var r in t)t.hasOwnProperty(r)&&Math.abs(t[r]-e)<c&&(c=Math.abs(t[r]-e),n=t[r],o=r);return{width:n,key:o}},r=function(o,c,r){var a=c.key,i=(c.width,function(t,e){t.attr("src",e)}),u=function(t,n){var o=new Image;o.onload=function(){e.backgroundImage="url("+n+")",e.width=r+"px",e.height=o.height,t.css(e)},o.src=n};t.ajax({url:window.location.href,cache:!0,processData:!1}).always(function(){"IMG"===o.tagName?i(t(o),a):u(t(o),a),void 0!==n&&n(o)})},a=function(e,n){var o=t(e).width(),a=c(n,o);r(e,a,o)},i=function(c,r){o(c,"Function")&&(n=c),o(c,"Object")&&(e=t.extend({},{"background-repeat":"no-repeat","background-size":"cover"},c)),o(r,"Function")&&(n=r)};t.fn.jp=function(t,e,n){return i(e,n),o(t,"Object")?this.each(function(){a(this,t)}):console.log("Object of type [object Object] expected, object of type "+Object.prototype.toString.call(t)+" given."),this}}(jQuery);