!function(n,t){"use strict";n.fn.jp=function(e,a,i){return this.each(function(){var o={"background-repeat":"no-repeat","background-size":"cover",enableZoom:!0,orientationChange:!0},c={lastPicture:void 0,callback:null},r=function(n,t){return Object.prototype.toString.call(n)==="[object "+t+"]"?!0:!1},u=function(n,t){var e=1/0,a=0,i="";for(var o in n)n.hasOwnProperty(o)&&Math.abs(n[o]-t)<e&&(e=Math.abs(n[o]-t),a=n[o],i=o);return{width:a,key:i}},l=function(n,t,e){return e*(1+(t-n)/n)},f=function(t,e){n(t).fadeOut("middle",function(){e(),n(t).fadeIn("middle")})},s=function(e,a){var i=function(n,t){f(n,function(){n.attr("src",t)})},r=function(t,e){var a=new Image;a.onload=function(){o.backgroundImage="url("+e+")",o.height=l(a.width,n(t).width(),a.height),f(t,function(){t.css(o)})},a.src=e};n.ajax({url:t.location.href,cache:!0,processData:!1}).always(function(){"IMG"===e.tagName?i(n(e),a.key):r(n(e),a.key),c.callback&&c.callback(e),e.lastPicture=a.key})},d=function(t,e){n(window).resize(function(){b(t,e)})},h=function(n,e){switch(t.orientation){case-90:case 90:b(n,e);break;default:b(n,e)}},b=function(t,e){var a=n(t).width(),i=u(e,a);s(t,i,a)},g=function(e,a,i,u){r(i,"Function")&&(c.callback=i),r(i,"Object")&&(o=n.extend({},o,i),r(u,"Function")&&(c.callback=u)),o.enableZoom&&d(e,a),o.orientationChange&&t.addEventListener("orientationchange",h(e,a)),delete o.enableZoom,delete o.orientationChange};return g(this,e,a,i),b(this,e),this})}}(jQuery,window);