!function(n){"use strict";n.fn.jp=function(t,a,c){return this.each(function(){var e=null,i=null,o=function(n,t){return Object.prototype.toString.call(n)==="[object "+t+"]"?!0:!1},r=function(n,t){var a=1/0,c=0,e="";for(var i in n)n.hasOwnProperty(i)&&Math.abs(n[i]-t)<a&&(a=Math.abs(n[i]-t),c=n[i],e=i);return{width:c,key:e}},u=function(n,t,a){return a*(1+(t-n)/n)},l=function(t,a){n(t).fadeOut("middle",function(){a(),n(t).fadeIn("middle")})},f=function(t,a){var c=function(n,t){l(n,function(){n.attr("src",t)})},o=function(t,a){var c=new Image;c.onload=function(){e.backgroundImage="url("+a+")",e.height=u(c.width,n(t).width(),c.height),l(t,function(){t.css(e)})},c.src=a};n.ajax({url:window.location.href,cache:!0,processData:!1}).always(function(){"IMG"===t.tagName?c(n(t),a.key):o(n(t),a.key),i.callback&&i.callback(t),t.lastPicture=a.key})},h=function(t,a){n(window).resize(function(){d(t,a)})},s=function(){},d=function(t,a){var c=n(t).width(),e=r(a,c);f(t,e,c)},b=function(t,a,c,r){i={enableZoom:!0,orientationChange:!0,lastPicture:void 0,callback:null},e={"background-repeat":"no-repeat","background-size":"cover",heigh:0},o(c,"Function")&&(i.callback=c),o(c,"Object")&&(i=n.extend({},e,c),o(r,"Function")&&(i.callback=r)),i.enableZoom&&h(t,a),i.orientationChange&&s(t,a)};return b(this,t,a,c),d(this,t),this})}}(jQuery);