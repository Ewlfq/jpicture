!function(n,t){"use strict";n.fn.jp=function(a,e,c){return this.each(function(){var i={"background-repeat":"no-repeat","background-size":"cover"},o={enableZoom:!0,orientationChange:!0,lastPicture:void 0,callback:null},r=function(n,t){return Object.prototype.toString.call(n)==="[object "+t+"]"?!0:!1},u=function(n,t){var a=1/0,e=0,c="";for(var i in n)n.hasOwnProperty(i)&&Math.abs(n[i]-t)<a&&(a=Math.abs(n[i]-t),e=n[i],c=i);return{width:e,key:c}},f=function(n,t,a){return a*(1+(t-n)/n)},l=function(t,a){n(t).fadeOut("middle",function(){a(),n(t).fadeIn("middle")})},s=function(a,e){var c=function(n,t){l(n,function(){n.attr("src",t)})},r=function(t,a){var e=new Image;e.onload=function(){i.backgroundImage="url("+a+")",i.height=f(e.width,n(t).width(),e.height),l(t,function(){t.css(i)})},e.src=a};n.ajax({url:t.location.href,cache:!0,processData:!1}).always(function(){"IMG"===a.tagName?c(n(a),e.key):r(n(a),e.key),o.callback&&o.callback(a),a.lastPicture=e.key})},h=function(t,a){n(window).resize(function(){b(t,a)})},d=function(n,a){switch(t.orientation){case-90:case 90:b(n,a);break;default:b(n,a)}},b=function(t,a){var e=n(t).width(),c=u(a,e);s(t,c,e)},k=function(a,e,c,u){r(c,"Function")&&(o.callback=c),r(c,"Object")&&(o=n.extend({},i,c),r(u,"Function")&&(o.callback=u)),o.enableZoom&&h(a,e),o.orientationChange&&t.addEventListener("orientationchange",d(a,e))};return k(this,a,e,c),b(this,a),this})}}(jQuery,window);